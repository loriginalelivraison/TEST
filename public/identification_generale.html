<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Page principale</title>
    <script>
        function getCookie(name) {
            const value = `; ${document.cookie}`;
            const parts = value.split(`; ${name}=`);
            if (parts.length === 2) return parts.pop().split(';').shift();
        }

        function deleteCookie(name) {
            document.cookie = `${name}=;expires=Thu, 01 Jan 1970 00:00:00 UTC;path=/`;
        }

        function checkLogin() {
            const username = getCookie("username");
            if (username) {
                document.getElementById("welcome").innerText = `Bienvenue, ${username}!`;
            } else {
                window.location.href = "sign_generale.html";
            }
        }

        function logout() {
            deleteCookie("username");
            alert("Vous avez été déconnecté.");
            window.location.href = "sign_generale.html";
        }
    </script>
</head>
<body onload="checkLogin()">
    <h1 id="welcome">Bienvenue !</h1>
    <button onclick="logout()">Se déconnecter</button>
</body>
</html>
